---
# yaml-language-server: $schema=https://schema.blue-build.org/recipe-v1.json
name: chopper
description: Secureblue Silverblue
alt-tags:
  - secureblue-nvidia-open-silverblue

base-image: ghcr.io/secureblue/silverblue-nvidia-open-hardened
image-version: 41

modules:
  - from-file: common/flatpak.yml
  - from-file: common/files.yml

  - type: rpm-ostree
    repos:
      - https://copr.fedorainfracloud.org/coprs/atim/starship/repo/fedora-%OS_VERSION%/atim-starship-fedora-%OS_VERSION%.repo
    install:
      # terminal
      - foot

      # Containers
      - podman
      - podman-compose
      - buildah
      - distrobox

      # cli tools
      - android-tools
      - zsh
      - fastfetch
      - btop
      - bat
      - eza
      - ncdu
      - fd-find
      - gh
      - glab
      - tmux
      - starship

      # opentablet-driver
      - https://raw.githubusercontent.com/CarrionAnimus/Chopper/main/files/rpm/opentabletdriver-0.6.4.0-1.fc%OS_VERSION%.x86_64.rpm

  - type: script
    scripts:
      - nvidia/nvidia-powerlimit.sh

  - from-file: common/scripts.yml

  - type: signing